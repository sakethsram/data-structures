E.G
Start the mongo instance and shell.

Create student collection.
db.createCollection("student")

Now create collection called counter.
db.createCollection("counters")

Now add record into the counters collection.
db.counters.insert({_id:"studentid",sequence_value:0})

Now we have to use studentid for incremental. 
Like 1,2,3,4. And here i have set sequence_value=0.
If you want starting value from 1001 then set sequence_value=1000

Create javascript function.
system.js is a collection which we are going to create.
In the value, we just add our javascript function.

Now execute 
db.system.js.save(
   {
     _id : "getNextValue" ,
     value : function (sequence){ 
         var document = db.counters.findAndModify({
         query:{_id: sequence },
         update: {$inc:{sequence_value:1}},
         new:true});
 
         return document.sequence_value; 
        }
   }
);

If you create the function and need to check where the function stored then 
open the system.js collection and check.

Let me create one more function. Just change the name of the existing function. And check
location of that function.

db.system.js.find({});

If you use mongo chef then you can get the better idea.
So you can also update this function in future.

Now add some data into student collection.
Before that we have to load script. So use loadServerScripts function.
db.loadServerScripts();

Now add data
db.student.insert({
   "_id":getNextValue("studentid"),
   "name":"Khatri Karan"
});
Now we just check what value shoud be in to _id
db.student.insert({
   "_id":getNextValue("studentid"),
   "name":"Patel Jayesh"
});

db.student.insert({
   "_id":getNextValue("studentid"),
   "name":"Kanjani Paresh"
});

Now we use this getNextValue1 function.
Here we can see that in student collection id should be auto increment.

Thanks for watching a video. !
